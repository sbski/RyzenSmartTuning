<?xml version="1.0"?>
<!--
    Show instruction TLB (ITLB) measurements view configuration.

    The itlb_focus view should be available when instruction cache fetches,
    ITLB_L1M_L2H, ITLB_L1M_L2M, and retired instructions are available.

    Related DC configurations: inst_access.xml

    Family : 17h
    Model  : 00h-0Fh
    Flavor : Public
    Copyright (c) 2018-2019 Advanced Micro Devices, Inc.
-->
<view_configuration>
    <view name="ITLB report" separate_cpus="F" separate_processes="F" separate_threads="F">
        <data>
            <event id="CPU_clocks" select="76" mask="00"/>
            <event id="Ret_instructions" select="C0" mask="00"/>
            <event id="IC_fetches" select="80" mask="00"/>
            <event id="ITLB_L1M_L2H" select="84" mask="00"/>
            <event id="ITLB_L1M_L2M" select="85" mask="00"/>
        </data>
        <output>
            <column title="Ret inst" sort="descending">
                <value id="Ret_instructions"/>
            </column>
            <column title="ITLB requests" sort="none">
                <value id="IC_fetches"/>
            </column>
            <column title="ITLB L1M L2H" sort="none">
                <value id="ITLB_L1M_L2H"/>
            </column>
            <column title="ITLB L1M L2M" sort="none">
                <value id="ITLB_L1M_L2M"/>
            </column>
            <column title="ITLB request rate" sort="none">
                <ratio left="IC_fetches" right="Ret_instructions"/>
            </column>
            <column title="ITLB L1M L2H rate" sort="none">
                <ratio left="ITLB_L1M_L2H" right="Ret_instructions"/>
            </column>
            <column title="ITLB L1M L2M rate" sort="none">
                <ratio left="ITLB_L1M_L2M" right="Ret_instructions"/>
            </column>
            <column title="CPU clocks" sort="none">
                <value id="CPU_clocks"/>
            </column>
            <column title="IPC" sort="descending">
                <ratio left="Ret_instructions" right="CPU_clocks"/>
            </column>
            <column title="CPI" sort="none">
                <ratio left="CPU_clocks" right="Ret_instructions"/>
            </column>
        </output>
        <tool_tip>Show detailed ITLB measurements</tool_tip>
        <description>Use this view to analyze and break out instruction translation lookaside buffer (ITLB) miss rates by level (L1 and L2.)</description>
    </view>
</view_configuration>
