<?xml version="1.0"?>

<!--
    Overall assessment of performance
    View configuration
    Version: 1.0
    Processor: AMD family 17h
    Models: 70h-7Fh
    Copyright (c) 2019 Advanced Micro Devices, Inc. All rights reserved.

    The triage view displays an overall assessment of performance. It
    displays select computed measurements to quickly indicate possible
    performance culprits for investigation.

    Related DC configuration: assess.xml
 -->

<view_configuration>
    <view name="Assess assessment" separate_cpus="F" separate_processes="F" separate_threads="F" default_view="T">
        <data>
            <event id="CPU_clocks"       select="76" mask="00" />
            <event id="Ret_instructions" select="c0" mask="00" />
            <event id="DC_accesses"      select="29" mask="07" />
            <event id="DC_misses"        select="60" mask="C8" />
            <event id="Branches"         select="c2" mask="00" />
            <event id="Mispred_branches" select="c3" mask="00" />
            <event id="Misalign_access"  select="47" mask="00" />
        </data>
        <output>
            <column title="Cycles not in Halt" sort="descending" visible="T" >
                <value id="CPU_clocks" />
            </column>
            <column title="Retired Instructions" sort="none" visible="T" >
                <value id="Ret_instructions" />
            </column>
            <column title="IPC" sort="none" visible="T" >
                <ratio left="Ret_instructions" right="CPU_clocks" />
            </column>
            <column title="Ret branch" sort="none" visible="F" >
                <value id="Branches" />
            </column>
            <column title="Ret misp branch" sort="none" visible="F" >
                <value id="Mispred_branches" />
            </column>
            <column title="DC accesses" sort="none" visible="F" >
                <value id="DC_accesses" />
            </column>
            <column title="MAB Alloc" sort="none" visible="F" >
                <value id="DC_misses" />
            </column>
            <column title="Misalign loads" sort="none" visible="F" >
                <value id="Misalign_access" />
            </column>
            <column title="Retired Branch Instruction Mispredicted PTI" sort="none" visible="T" >
                <ratio scale="1000" left="Mispred_branches" right="Ret_instructions" />
            </column>
            <column title="%Retired Branch Instruction Mispredicted" sort="none" visible="T" >
                <ratio scale="100" left="Mispred_branches" right="Branches" />
            </column>
            <column title="Data Cache Accesses PTI" sort="none" visible="T" >
                <ratio scale="1000" left="DC_accesses" right="Ret_instructions" />
            </column>
            <column title="MAB Alloc PTI" sort="none" visible="T" >
                <ratio scale="1000" left="DC_misses" right="Ret_instructions" />
            </column>
            <column title="%Data Cache Miss" sort="none" visible="T" >
                <ratio scale="100" left="DC_misses" right="DC_accesses" />
            </column>
            <column title="Misalign Loads PTI" sort="none" visible="T" >
                <ratio scale="1000" left="Misalign_access" right="Ret_instructions" />
            </column>
        </output>
        <tool_tip>Show overall assessment of performance</tool_tip>
        <description>This view gives an overall picture of performance. Use it to find possible issues for deeper investigation.</description>
    </view>
</view_configuration>
