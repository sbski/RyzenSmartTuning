<?xml version="1.0"?>
<!DOCTYPE view_configuration SYSTEM "..\viewconfig.dtd">

<!--
    Show data cache (DC) measurements
    View configuration
    Version: 1.0
    Processor: AMD family 17h, model 10h-1Fh
    Copyright (c) 2017 Advanced Micro Devices, Inc. All rights reserved.

    The dc_focus view should be available when data caches accesses,
    data cache misses, data cache refills and retired instructions are
    available.

    Related data collection configurations: data_access.xml
 -->

<view_configuration>

  <view name="Data access report"
        separate_cpus="F"
        separate_processes="F"
        separate_threads="F"
        >

    <data>
      <event id="Ret_instructions" select="c0" mask="00" />
      <event id="DC_accesses"      select="40" mask="00" />
      <event id="DC_misses"        select="41" mask="0B" />
      <event id="DC_refills"       select="43" mask="11" />
      <event id="CPU_clocks"       select="76" mask="00" />
    </data>

    <output>
      <column title="Ret inst" sort="descending">
        <value id="Ret_instructions" />
      </column>
      <column title="DC accesses" sort="none">
        <value id="DC_accesses" />
      </column>
      <column title="DC misses" sort="none">
        <value id="DC_misses" />
      </column>
      <column title="DC refills L2/sys" sort="none">
        <value id="DC_refills" />
      </column>
      <column title="DC access rate" sort="none">
        <ratio left="DC_accesses" right="Ret_instructions" />
      </column>
      <column title="DC miss rate" sort="none">
        <ratio left="DC_misses" right="Ret_instructions" />
      </column>
      <column title="DC miss ratio" sort="none">
        <ratio left="DC_misses" right="DC_accesses" />
      </column>
      <column title="DC refill rate" sort="none">
        <ratio left="DC_refills" right="Ret_instructions" />
      </column>
      <column title="CPU clocks" sort="none">
        <value id="CPU_clocks" />
      </column>
      <column title="IPC" sort="descending">
        <ratio left="Ret_instructions" right="CPU_clocks" />
      </column>
      <column title="CPI" sort="none">
        <ratio left="CPU_clocks" right="Ret_instructions" />
      </column>
    </output>

    <tool_tip>
      Show data access detail
    </tool_tip>

    <description>
      Use this view to analyze L1 data cache (DC) behavior and compare misses versus refills.
    </description>

  </view>

</view_configuration>
